<!doctype html>
<html>
<body>
  <label>
    <div>Hosts to scan</div>
    <div>
      <textarea rows=20 cols=50 id='h'>10.6.0.81
10.6.0.82
10.6.0.83
10.6.0.84
10.6.0.85
10.6.0.86
10.6.0.87
10.6.0.88
10.6.0.89
      </textarea>
    </div>
  </label>
  <button id='b' onclick='scan()'>Scan</button>

  <div id='c' style='background:#000; color: #fff; font-family:monospace; padding: 5px; margin-top:0; display: none;'>
  </div>


<script src='./src/utils.js'></script>
<script src='./src/db.js'></script>
<script src='./src/host_scan.js'></script>
<script src='./src/device_scan.js'></script>

<script>
  function log(s) {
    c.innerHTML += '<div>'+s+'</div>';
  }

  function scan() {
    b.style.display = 'none';
    c.style.display = 'block';
    log('Scanning...');
    lan.DeviceScan.start(h.value.trim().split(/\s+/), {
      found: function(address, fingerprint) {
        log("["+address+"] Found device: "+fingerprint);
      },
      complete: function(results) {
        log("Scan complete.")
      },
      hostup: function(address) {
        log("Host up: "+address);
      }
    });
  }
  </script>
</body>
</html>
